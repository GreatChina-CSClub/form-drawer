apply plugin: 'java'
apply plugin: 'application'

group 'org.ice1000.clubActivity'
version 'v0.1'

sourceCompatibility = 1.8
targetCompatibility = 1.8

tasks.withType(JavaCompile) { options.encoding = 'UTF-8' }
repositories { jcenter() }

mainClassName = 'org.ice1000.clubActivity.drawer.Drawer'

sourceSets {
	main.java.srcDirs = ['src']
	main.resources.srcDirs = ['res']
	test.java.srcDirs = ['test']
}

dependencies {
	compile group: 'org.jetbrains', name: 'annotations', version: '16.0.1'
	testCompile group: 'junit', name: 'junit', version: '4.12'
}

task sourcesJar(type: Jar, dependsOn: classes) {
	classifier = 'sources'
	from sourceSets.main.allSource
}

task fatJar(type: Jar) {
	classifier = 'all'
	group = jar.group
	from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
	with jar
}

artifacts {
	archives jar
	archives sourcesJar
}

